# CodingDojo 網球計分系統 - 以TDD實作

使用測試驅動開發（TDD）的 GoLang 網球計分系統KATA。

Reference: [CodingDojo Tennis Kata](https://codingdojo.org/kata/Tennis/)

## 專案概述

本專案實現了一個受 Wii 網球啟發的簡化網球計分系統，其中每場比賽僅包含一局。實現遵循標準網球計分規則，包括特殊情況如「平分」和「優勢」。

## 需求

網球計分系統遵循以下規則：

- 球員在一局比賽中可以有以下得分：「love」、「15」、「30」、「40」
- 如果一名球員有 40 分並贏得該分，則贏得比賽，但有特殊規則適用於平分
- 如果雙方球員都有 40 分，則處於「平分」狀態
- 如果比賽處於平分，贏得下一分的球員獲得「領先」
- 如果擁有領先優勢的球員贏得下一分，則贏得比賽
- 如果沒有領先優勢的球員贏得該分，則比賽回到平分

根據維基百科的描述：
- 贏得至少四分，並比對手多至少兩分的球員將贏得比賽
- 從零到三分的得分分別描述為「love」、「15」、「30」和「40」
- 如果雙方球員都至少有三分且得分相等，則為「平分」
- 如果雙方球員都至少有三分且一名球員領先一分，則得分為領先球員的「優勢」

## TDD 方法

本專案使用測試驅動開發（TDD）方法開發，遵循以下步驟：

1. **編寫失敗的測試**：對於每個功能，首先編寫測試來定義預期行為
2. **使測試通過**：實現最少的程式碼使測試通過
3. **重構**：重構程式碼以改進設計，同時確保測試仍然通過

測試文件（`tennis_test.go`）展示了這種方法，包含全面的測試案例，涵蓋所有計分場景：
- 初始得分（love all）
- 雙方球員的基本得分
- 平局得分
- 平分
- 領先場景
- 獲勝場景

## 實現細節

實現包括：

- `Tennis` 結構：追蹤雙方球員的得分和姓名
- 得分轉換：數字得分（0、1、2、3）轉換為網球術語（「love」、「fifteen」、「thirty」、「forty」）
- 比賽狀態檢測：檢測不同比賽狀態的方法（平分、優勢、賽點）
- 得分報告：根據當前比賽狀態生成對應得分字串的方法

程式碼組織清晰地分離不同的計分場景，使其易於理解和維護。

## 如何運行

### 先決條件
- Go 1.22 或更高版本
- `github.com/stretchr/testify` 包（由 Go 模組自動安裝）

### 運行測試

```bash
go test -v
```

這將運行所有測試並顯示測試結果，證明實現正確處理所有網球計分場景。

## 開發過程

開發遵循以下 TDD 週期：

1. 實現基本計分（love、fifteen、thirty、forty）
2. 添加對球員之間不同得分的支持
3. 實現平分邏輯
4. 添加優勢和獲勝條件
5. 重構以改進程式碼組織和可讀性

每個功能的開發都是先編寫測試，然後實現最少的程式碼使其通過，最後重構以改進設計。
